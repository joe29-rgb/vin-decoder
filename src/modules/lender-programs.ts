/**
 * MODULE 2: LENDER PROGRAMS DATABASE
 * Hardcoded SUBPRIME lender specifications from official 2025 rate sheets
 * TD Specialized Lending (Non-Prime), Santander, and Scotia Dealer Advantage
 * ALL PROGRAMS ARE SUBPRIME/NON-PRIME - NO PRIME PROGRAMS
 */

import { LenderProgram, LenderType } from '../types/types';

const LENDER_PROGRAMS: Record<string, Record<string, LenderProgram>> = {
  TD: {
    '2-Key': {
      lender: 'TD',
      tier: '2-Key',
      rate: 27.0,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 200,
      fee: 799,
      negativeEquityLimit: 2000,
    },
    '3-Key': {
      lender: 'TD',
      tier: '3-Key',
      rate: 21.5,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 300,
      fee: 799,
      negativeEquityLimit: 2000,
    },
    '4-Key': {
      lender: 'TD',
      tier: '4-Key',
      rate: 17.5,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 400,
      fee: 799,
      negativeEquityLimit: 2000,
    },
    '5-Key': {
      lender: 'TD',
      tier: '5-Key',
      rate: 14.5,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 500,
      fee: 799,
      negativeEquityLimit: 2000,
    },
    '6-Key': {
      lender: 'TD',
      tier: '6-Key',
      rate: 11.99,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 600,
      fee: 799,
      negativeEquityLimit: 2000,
    },
  },
  Santander: {
    'Tier8': {
      lender: 'Santander',
      tier: 'Tier8',
      rate: 11.49,
      ltv: 165,
      maxDsr: 30,
      minIncome: 2500,
      reserve: 600,
      fee: 0,
      negativeEquityLimit: 5000,
    },
    'Tier7': {
      lender: 'Santander',
      tier: 'Tier7',
      rate: 13.49,
      ltv: 165,
      maxDsr: 30,
      minIncome: 2500,
      reserve: 600,
      fee: 0,
      negativeEquityLimit: 5000,
    },
    'Tier6': {
      lender: 'Santander',
      tier: 'Tier6',
      rate: 16.49,
      ltv: 165,
      maxDsr: 30,
      minIncome: 2500,
      reserve: 550,
      fee: 0,
      negativeEquityLimit: 4000,
    },
    'Tier5': {
      lender: 'Santander',
      tier: 'Tier5',
      rate: 21.99,
      ltv: 165,
      maxDsr: 30,
      minIncome: 2500,
      reserve: 550,
      fee: 0,
      negativeEquityLimit: 3500,
    },
    'Tier4': {
      lender: 'Santander',
      tier: 'Tier4',
      rate: 24.49,
      ltv: 165,
      maxDsr: 30,
      minIncome: 2500,
      reserve: 550,
      fee: 0,
      negativeEquityLimit: 3500,
    },
    'Tier3': {
      lender: 'Santander',
      tier: 'Tier3',
      rate: 26.24,
      ltv: 165,
      maxDsr: 30,
      minIncome: 2500,
      reserve: 525,
      fee: 0,
      negativeEquityLimit: 3000,
    },
    'Tier2': {
      lender: 'Santander',
      tier: 'Tier2',
      rate: 29.99,
      ltv: 165,
      maxDsr: 30,
      minIncome: 2500,
      reserve: 750,
      fee: 0,
      negativeEquityLimit: 3000,
    },
    'Tier1': {
      lender: 'Santander',
      tier: 'Tier1',
      rate: 31.9,
      ltv: 165,
      maxDsr: 30,
      minIncome: 2500,
      reserve: 500,
      fee: 0,
      negativeEquityLimit: 3000,
    },
  },
  SDA: {
    'Star7': {
      lender: 'SDA',
      tier: 'Star7',
      rate: 11.99,
      ltv: 180,
      maxDsr: 65,
      minIncome: 1750,
      reserve: 600,
      fee: 399,
      negativeEquityLimit: 5000,
      rateUpsell: 2,
    },
    'Star6': {
      lender: 'SDA',
      tier: 'Star6',
      rate: 13.49,
      ltv: 180,
      maxDsr: 60,
      minIncome: 1750,
      reserve: 600,
      fee: 699,
      negativeEquityLimit: 5000,
      rateUpsell: 2,
    },
    'Star5': {
      lender: 'SDA',
      tier: 'Star5',
      rate: 14.49,
      ltv: 160,
      maxDsr: 55,
      minIncome: 1750,
      reserve: 500,
      fee: 699,
      negativeEquityLimit: 5000,
      rateUpsell: 2,
    },
    'Star4': {
      lender: 'SDA',
      tier: 'Star4',
      rate: 18.49,
      ltv: 150,
      maxDsr: 55,
      minIncome: 1750,
      reserve: 300,
      fee: 699,
      negativeEquityLimit: 4000,
      rateUpsell: 2,
    },
    'Star3': {
      lender: 'SDA',
      tier: 'Star3',
      rate: 21.99,
      ltv: 140,
      maxDsr: 45,
      minIncome: 1750,
      reserve: 400,
      fee: 699,
      negativeEquityLimit: 4000,
      rateUpsell: 2,
    },
    'Star2': {
      lender: 'SDA',
      tier: 'Star2',
      rate: 27.99,
      ltv: 140,
      maxDsr: 45,
      minIncome: 1750,
      reserve: 300,
      fee: 799,
      negativeEquityLimit: 3000,
      rateUpsell: 2,
    },
    'Star1': {
      lender: 'SDA',
      tier: 'Star1',
      rate: 29.99,
      ltv: 140,
      maxDsr: 45,
      minIncome: 1750,
      reserve: 100,
      fee: 799,
      negativeEquityLimit: 3000,
      rateUpsell: 2,
    },
    'StartRight': {
      lender: 'SDA',
      tier: 'StartRight',
      rate: 15.49,
      ltv: 140,
      maxDsr: 65,
      minIncome: 1750,
      reserve: 300,
      fee: 599,
      negativeEquityLimit: 5000,
      rateUpsell: 2,
    },
  },
  AutoCapital: {
    'Tier1': {
      lender: 'AutoCapital',
      tier: 'Tier1',
      rate: 13.49,
      ltv: 140,
      maxDsr: 55,
      minIncome: 1800,
      reserve: 500,
      fee: 799,
      negativeEquityLimit: 5000,
    },
    'Tier2': {
      lender: 'AutoCapital',
      tier: 'Tier2',
      rate: 14.49,
      ltv: 140,
      maxDsr: 55,
      minIncome: 1800,
      reserve: 500,
      fee: 799,
      negativeEquityLimit: 5000,
    },
    'Tier3': {
      lender: 'AutoCapital',
      tier: 'Tier3',
      rate: 15.99,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 500,
      fee: 799,
      negativeEquityLimit: 4000,
    },
    'Tier4': {
      lender: 'AutoCapital',
      tier: 'Tier4',
      rate: 17.99,
      ltv: 135,
      maxDsr: 47,
      minIncome: 1800,
      reserve: 500,
      fee: 799,
      negativeEquityLimit: 4000,
    },
    'Tier5': {
      lender: 'AutoCapital',
      tier: 'Tier5',
      rate: 21.49,
      ltv: 135,
      maxDsr: 43,
      minIncome: 1800,
      reserve: 500,
      fee: 799,
      negativeEquityLimit: 3000,
    },
    'Tier6': {
      lender: 'AutoCapital',
      tier: 'Tier6',
      rate: 23.49,
      ltv: 130,
      maxDsr: 43,
      minIncome: 1800,
      reserve: 500,
      fee: 799,
      negativeEquityLimit: 3000,
    },
  },
  EdenPark: {
    '6Ride': {
      lender: 'EdenPark',
      tier: '6Ride',
      rate: 11.99,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 750,
      fee: 0,
      negativeEquityLimit: 5000,
    },
    '5Ride': {
      lender: 'EdenPark',
      tier: '5Ride',
      rate: 13.99,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 750,
      fee: 0,
      negativeEquityLimit: 5000,
    },
    '4Ride': {
      lender: 'EdenPark',
      tier: '4Ride',
      rate: 16.99,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 750,
      fee: 0,
      negativeEquityLimit: 4000,
    },
    '3Ride': {
      lender: 'EdenPark',
      tier: '3Ride',
      rate: 19.99,
      ltv: 135,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 750,
      fee: 0,
      negativeEquityLimit: 4000,
    },
    '2Ride': {
      lender: 'EdenPark',
      tier: '2Ride',
      rate: 23.99,
      ltv: 130,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 750,
      fee: 0,
      negativeEquityLimit: 3000,
    },
  },
  IAAutoFinance: {
    '6thGear': {
      lender: 'IAAutoFinance',
      tier: '6thGear',
      rate: 11.49,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 1000,
      fee: 699,
      negativeEquityLimit: 5000,
    },
    '5thGear': {
      lender: 'IAAutoFinance',
      tier: '5thGear',
      rate: 15.49,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 1000,
      fee: 699,
      negativeEquityLimit: 5000,
    },
    '4thGear': {
      lender: 'IAAutoFinance',
      tier: '4thGear',
      rate: 20.49,
      ltv: 135,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 1000,
      fee: 699,
      negativeEquityLimit: 4000,
    },
    '3rdGear': {
      lender: 'IAAutoFinance',
      tier: '3rdGear',
      rate: 25.49,
      ltv: 125,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 1000,
      fee: 699,
      negativeEquityLimit: 3000,
    },
    '2ndGear': {
      lender: 'IAAutoFinance',
      tier: '2ndGear',
      rate: 29.99,
      ltv: 125,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 1000,
      fee: 699,
      negativeEquityLimit: 3000,
    },
    '1stGear': {
      lender: 'IAAutoFinance',
      tier: '1stGear',
      rate: 29.99,
      ltv: 110,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 1000,
      fee: 699,
      negativeEquityLimit: 2000,
    },
  },
  LendCare: {
    'Tier1': {
      lender: 'LendCare',
      tier: 'Tier1',
      rate: 18.9,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 799,
      fee: 0,
      negativeEquityLimit: 5000,
    },
    'Tier2': {
      lender: 'LendCare',
      tier: 'Tier2',
      rate: 27.9,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 599,
      fee: 0,
      negativeEquityLimit: 3000,
    },
    'Tier3': {
      lender: 'LendCare',
      tier: 'Tier3',
      rate: 29.9,
      ltv: 110,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 399,
      fee: 0,
      negativeEquityLimit: 2000,
    },
  },
  Northlake: {
    'Titanium': {
      lender: 'Northlake',
      tier: 'Titanium',
      rate: 10.99,
      ltv: 140,
      maxDsr: 20,
      minIncome: 1800,
      reserve: 600,
      fee: 0,
      negativeEquityLimit: 5000,
    },
    'Platinum': {
      lender: 'Northlake',
      tier: 'Platinum',
      rate: 10.99,
      ltv: 140,
      maxDsr: 20,
      minIncome: 1800,
      reserve: 600,
      fee: 0,
      negativeEquityLimit: 5000,
    },
    'Gold': {
      lender: 'Northlake',
      tier: 'Gold',
      rate: 13.99,
      ltv: 135,
      maxDsr: 18,
      minIncome: 1800,
      reserve: 450,
      fee: 0,
      negativeEquityLimit: 4000,
    },
    'Standard': {
      lender: 'Northlake',
      tier: 'Standard',
      rate: 17.99,
      ltv: 125,
      maxDsr: 17,
      minIncome: 1800,
      reserve: 300,
      fee: 0,
      negativeEquityLimit: 3000,
    },
    'UDrive': {
      lender: 'Northlake',
      tier: 'UDrive',
      rate: 22.99,
      ltv: 120,
      maxDsr: 15,
      minIncome: 1800,
      reserve: 0,
      fee: 0,
      negativeEquityLimit: 2000,
    },
  },
  RIFCO: {
    'PreferredTier1': {
      lender: 'RIFCO',
      tier: 'PreferredTier1',
      rate: 12.95,
      ltv: 140,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 600,
      fee: 395,
      negativeEquityLimit: 5000,
    },
    'PreferredTier2': {
      lender: 'RIFCO',
      tier: 'PreferredTier2',
      rate: 14.95,
      ltv: 135,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 500,
      fee: 395,
      negativeEquityLimit: 5000,
    },
    'PreferredTier3': {
      lender: 'RIFCO',
      tier: 'PreferredTier3',
      rate: 19.95,
      ltv: 135,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 400,
      fee: 395,
      negativeEquityLimit: 4000,
    },
    'PreferredTier4': {
      lender: 'RIFCO',
      tier: 'PreferredTier4',
      rate: 24.95,
      ltv: 130,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 0,
      fee: 395,
      negativeEquityLimit: 3000,
    },
    'PreferredTier5': {
      lender: 'RIFCO',
      tier: 'PreferredTier5',
      rate: 29.95,
      ltv: 125,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 300,
      fee: 395,
      negativeEquityLimit: 3000,
    },
    'Standard': {
      lender: 'RIFCO',
      tier: 'Standard',
      rate: 29.95,
      ltv: 130,
      maxDsr: 50,
      minIncome: 1800,
      reserve: 250,
      fee: 395,
      negativeEquityLimit: 3000,
    },
  },
};

export function getLenderProgram(lender: LenderType, tier: string): LenderProgram | null {
  return LENDER_PROGRAMS[lender]?.[tier] || null;
}

export function getLenderTiers(lender: LenderType): string[] {
  return Object.keys(LENDER_PROGRAMS[lender] || {});
}

export function getAllLenderPrograms(): Record<string, Record<string, LenderProgram>> {
  return LENDER_PROGRAMS;
}

export function getBaseReserve(program: LenderProgram): number {
  return program.reserve;
}
